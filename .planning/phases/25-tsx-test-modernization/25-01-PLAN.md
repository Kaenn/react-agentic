---
phase: 25-tsx-test-modernization
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/scenarios/2.1-xmlblock-sections.tsx
  - src/app/scenarios/2.4-lists-rendering.tsx
  - src/app/scenarios/5.1-spawnagent-basic.tsx
autonomous: true

must_haves:
  truths:
    - "Table component replaces at least one manual markdown table"
    - "List component replaces at least one manual ul/ol element"
    - "Files demonstrate v2.0 structured props patterns"
  artifacts:
    - path: "src/app/scenarios/2.1-xmlblock-sections.tsx"
      provides: "XmlBlock test with List component"
      contains: "<List"
    - path: "src/app/scenarios/5.1-spawnagent-basic.tsx"
      provides: "SpawnAgent test with List for objectives"
      contains: "<List"
  key_links:
    - from: "src/app/scenarios/*.tsx"
      to: "src/jsx.js"
      via: "import { Table, List }"
      pattern: "import.*\\{.*Table.*List.*\\}.*from"
---

<objective>
Update scenario test files to use Table and List structured components

Purpose: Replace manual `<ul>/<li>` and `<ol>/<li>` patterns with `<List items={...}>` component, and demonstrate Table component where appropriate for structured data.

Output: 3 updated scenario files demonstrating Table and List component usage
</objective>

<execution_context>
@/Users/glenninizan/.claude/get-shit-done/workflows/execute-plan.md
@/Users/glenninizan/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@docs/structured-components.md
@src/app/verification/test-table.tsx
@src/app/verification/test-list.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update XmlBlock test with List component</name>
  <files>src/app/scenarios/2.1-xmlblock-sections.tsx</files>
  <action>
Update file header comment to document v2.0 features demonstrated.

Replace the manual `<ul>` inside the constraints XmlBlock with `<List items={[...]} />`:

```tsx
// Before:
<XmlBlock name="constraints">
  <ul>
    <li>You must respond in a structured format</li>
    <li>You must reference each XmlBlock section by name</li>
    <li>You must confirm the nesting is preserved</li>
  </ul>
</XmlBlock>

// After:
<XmlBlock name="constraints">
  <List items={[
    "You must respond in a structured format",
    "You must reference each XmlBlock section by name",
    "You must confirm the nesting is preserved",
  ]} />
</XmlBlock>
```

Add List to imports: `import { Skill, XmlBlock, List } from '../../jsx.js';`

Also replace the manual `<ol>` in the validation section with `<List items={[...]} ordered />`.
  </action>
  <verify>npm run build && grep -q "&lt;List" src/app/scenarios/2.1-xmlblock-sections.tsx</verify>
  <done>2.1-xmlblock-sections.tsx uses List component for all bullet/ordered lists</done>
</task>

<task type="auto">
  <name>Task 2: Update lists-rendering test to show List component</name>
  <files>src/app/scenarios/2.4-lists-rendering.tsx</files>
  <action>
This file tests list rendering. Add a section that demonstrates the new List component alongside the manual approach.

Add to imports: `import { Skill, List } from '../../jsx.js';`

Add a new section before the closing tag showing v2.0 approach:

```tsx
<h2>v2.0 Structured List Component</h2>

<p>The List component provides array-based list generation:</p>

<List items={[
  "First item from array",
  "Second item from array",
  "Third item from array",
]} />

<p>Ordered list variant:</p>

<List
  items={["Step one", "Step two", "Step three"]}
  ordered
/>
```

Update file header to note v2.0 feature demonstration.
  </action>
  <verify>npm run build && grep -q "List items=" src/app/scenarios/2.4-lists-rendering.tsx</verify>
  <done>2.4-lists-rendering.tsx demonstrates both manual and List component approaches</done>
</task>

<task type="auto">
  <name>Task 3: Update SpawnAgent basic test with List and Table</name>
  <files>src/app/scenarios/5.1-spawnagent-basic.tsx</files>
  <action>
Update file header to document v2.0 features demonstrated.

Add to imports: `import { Command, SpawnAgent, List, Table } from '../../jsx.js';`

Replace the manual `<ol>` for Test Objectives with List:

```tsx
// Before:
<ol>
  <li>Verify SpawnAgent produces Task() call in the markdown</li>
  ...
</ol>

// After:
<List
  items={[
    "Verify SpawnAgent produces Task() call in the markdown",
    "Verify agent name appears as subagent_type parameter",
    "Verify description/prompt is passed correctly",
    "Verify Claude successfully spawns and receives agent response",
  ]}
  ordered
/>
```

Optionally add a small Table to show the expected output structure if appropriate.
  </action>
  <verify>npm run build && grep -q "&lt;List" src/app/scenarios/5.1-spawnagent-basic.tsx</verify>
  <done>5.1-spawnagent-basic.tsx uses List component for ordered objectives</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. Run `npm run build` - should complete without errors
2. Run `node dist/cli/index.js build src/app/scenarios/2.1-xmlblock-sections.tsx` - verify markdown output
3. Run `node dist/cli/index.js build src/app/scenarios/5.1-spawnagent-basic.tsx` - verify markdown output
4. Grep updated files for List/Table imports
</verification>

<success_criteria>
- [ ] All updated files build successfully
- [ ] List component used in at least 3 files
- [ ] Each updated file has v2.0 feature documentation in header comment
- [ ] Markdown output shows correct list/table rendering
</success_criteria>

<output>
After completion, create `.planning/phases/25-tsx-test-modernization/25-01-SUMMARY.md`
</output>
