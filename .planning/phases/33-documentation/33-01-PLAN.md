---
phase: 33-documentation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/primitives.md
  - docs/composites.md
  - docs/README.md
autonomous: true

must_haves:
  truths:
    - "User can understand the difference between primitives and composites"
    - "User can find documentation for any primitive component"
    - "User can create a custom composite following documented patterns"
    - "User can see TSX and emitted markdown for every example"
  artifacts:
    - path: "docs/primitives.md"
      provides: "Primitive component reference"
      contains: "react-agentic"
    - path: "docs/composites.md"
      provides: "Composite pattern guide"
      contains: "IfElseBlock"
    - path: "docs/README.md"
      provides: "Updated docs index"
      contains: "primitives.md"
  key_links:
    - from: "docs/composites.md"
      to: "docs/primitives.md"
      via: "See Also cross-link"
      pattern: "primitives\\.md"
    - from: "docs/README.md"
      to: "docs/primitives.md"
      via: "Index table entry"
      pattern: "\\[Primitives\\]"
---

<objective>
Create user-facing documentation for the primitive/composite architecture.

Purpose: Users need to understand the two-tier component system: primitives (compiler-owned, stable API) vs composites (user-definable, copy/modify). This completes v3.0 documentation.

Output: Two new docs (primitives.md, composites.md) and updated README.md index.
</objective>

<execution_context>
@/Users/glenninizan/.claude/get-shit-done/workflows/execute-plan.md
@/Users/glenninizan/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/33-documentation/33-CONTEXT.md
@.planning/phases/33-documentation/33-RESEARCH.md

# Documentation pattern reference
@docs/structured-components.md
@docs/control-flow.md

# Components to document
@src/index.ts
@src/composites/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create primitives.md</name>
  <files>docs/primitives.md</files>
  <action>
Create docs/primitives.md documenting the primitive component layer:

**Structure (follow existing docs patterns):**
1. Brief concept intro (2-3 paragraphs): What primitives are, why they exist, compiler-owned
2. Primitive catalog table: Component name, purpose, link to existing docs
3. Import statement example
4. See Also section linking to composites.md

**Content requirements:**
- DO NOT repeat full documentation from existing docs (structured-components.md covers Table/List, control-flow.md covers If/Else/Loop/Break/Return/AskUser)
- LINK to existing docs for detailed component docs
- Focus on explaining the primitive CONCEPT, not re-documenting each component
- Mention that primitives are NOT meant to be copied/modified - they're compiler intrinsics
- Tone: practical, terse, max code examples

**Primitive list from src/index.ts:**
- Core: Command, Agent, SpawnAgent, OnStatus, Markdown, XmlBlock, Indent, Table, List
- Control flow: If, Else, Loop, Break, Return, AskUser
- Runtime: useRuntimeVar, runtimeFn, Ref
- Semantic: ExecutionContext

**Props table format:**
```markdown
| Component | Purpose | Documentation |
|-----------|---------|---------------|
| `Table` | Markdown tables from arrays | [Structured Components](./structured-components.md) |
```
  </action>
  <verify>File exists at docs/primitives.md with concept section and catalog table linking to existing docs</verify>
  <done>docs/primitives.md explains primitive layer and links to existing component docs</done>
</task>

<task type="auto">
  <name>Task 2: Create composites.md with pattern examples</name>
  <files>docs/composites.md</files>
  <action>
Create docs/composites.md documenting the composite component layer:

**Structure:**
1. Concept intro: What composites are, why they exist, user-definable layer
2. Import statement: `import { IfElseBlock } from 'react-agentic/composites'`
3. Built-in composites table (from src/composites/index.ts)
4. Three pattern examples (per CONTEXT.md):
   - Conditional wrapper pattern (use IfElseBlock or similar)
   - Repeated section pattern (use DataTable or BulletList)
   - Custom validation/enhancement pattern (use FileContext or create inline example)
5. "Creating Your Own Composite" section with step-by-step
6. See Also section

**Each example MUST show:**
- TSX code
- "Emits:" followed by markdown output block
- Brief explanation of the pattern

**Built-in composites from src/composites/index.ts:**
- Control flow: IfElseBlock, LoopWithBreak
- Agent: SpawnAgentWithRetry
- Presentation: StepSection, DataTable, BulletList, FileContext

**Pattern example template:**
```markdown
### Conditional Wrapper Pattern

Wrap content conditionally based on runtime state.

\`\`\`tsx
import { IfElseBlock } from 'react-agentic/composites';
import { useRuntimeVar } from 'react-agentic';

const ctx = useRuntimeVar<{ error?: string }>('CTX');

<IfElseBlock
  condition={ctx.error}
  then={<p>Error: {ctx.error}</p>}
  otherwise={<p>Success!</p>}
/>
\`\`\`

Emits:

\`\`\`markdown
**If `$CTX.error` is truthy:**

Error: $CTX.error

**Otherwise:**

Success!
\`\`\`
```

**Creating Your Own section should include:**
- Simple example of a custom composite (e.g., AlertBox that wraps content in warning formatting)
- Show how it composes primitives
- Remind users they can copy existing composites as starting points
  </action>
  <verify>File exists at docs/composites.md with 3 pattern examples, each showing TSX and emitted markdown</verify>
  <done>docs/composites.md demonstrates conditional wrapper, repeated section, and enhancement patterns</done>
</task>

<task type="auto">
  <name>Task 3: Update docs index</name>
  <files>docs/README.md</files>
  <action>
Update docs/README.md to include the new documentation:

1. Add to User Guides table (in appropriate position, after existing conceptual docs):
```markdown
| [Primitives](./primitives.md) | Compiler-owned components (Table, If, SpawnAgent, etc.) |
| [Composites](./composites.md) | User-definable convenience wrappers |
```

2. Position the entries logically in the table:
   - After Philosophy and Getting Started (conceptual foundations)
   - Before or after Command/Agent (component-related)
   - Use judgment for best reading flow

3. Optionally update Quick Reference section if relevant (add composites import path example)
  </action>
  <verify>docs/README.md contains links to primitives.md and composites.md in the User Guides table</verify>
  <done>docs/README.md index includes entries for primitives.md and composites.md</done>
</task>

</tasks>

<verification>
1. All three files exist and have content
2. primitives.md links to existing docs (not duplicating content)
3. composites.md has 3 distinct pattern examples with TSX + output
4. README.md index updated with new entries
5. Cross-links work (primitives.md <-> composites.md)
</verification>

<success_criteria>
- docs/primitives.md explains primitive layer concept and catalogs primitives with links
- docs/composites.md demonstrates 3 patterns: conditional wrapper, repeated section, enhancement
- docs/README.md index includes both new docs
- All examples show TSX code AND emitted markdown output
- Documentation follows existing docs style (concept-first, props tables, See Also)
</success_criteria>

<output>
After completion, create `.planning/phases/33-documentation/33-01-SUMMARY.md`
</output>
