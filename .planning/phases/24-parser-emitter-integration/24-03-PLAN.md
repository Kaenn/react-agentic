---
phase: 24-parser-emitter-integration
plan: 03
type: execute
wave: 2
depends_on: ["24-01", "24-02"]
files_modified:
  - docs/README.md
  - docs/command.md
  - docs/agent.md
  - docs/structured-components.md
  - docs/semantic-components.md
autonomous: true

must_haves:
  truths:
    - "docs/README.md lists all v2.0 components in Quick Reference section"
    - "Table and List components documented with props and examples"
    - "Semantic components (ExecutionContext, SuccessCriteria, OfferNext) documented"
    - "Step component documented with all three variants"
    - "Render props pattern documented for Command and Agent"
  artifacts:
    - path: "docs/README.md"
      provides: "Updated component overview listing v2.0 features"
      contains: "Table, List, ExecutionContext, SuccessCriteria"
    - path: "docs/structured-components.md"
      provides: "Table and List component documentation"
    - path: "docs/semantic-components.md"
      provides: "ExecutionContext, SuccessCriteria, OfferNext, XmlSection documentation"
    - path: "docs/command.md"
      provides: "Updated with render props pattern"
      contains: "render props"
    - path: "docs/agent.md"
      provides: "Updated with render props pattern"
      contains: "render props"
  key_links:
    - from: "docs/README.md"
      to: "docs/structured-components.md"
      via: "markdown link"
    - from: "docs/README.md"
      to: "docs/semantic-components.md"
      via: "markdown link"
---

<objective>
Update documentation to cover all v2.0 components: Table, List, ExecutionContext, SuccessCriteria, OfferNext, XmlSection, Step, and render props pattern.

Purpose: Users need to discover and learn v2.0 features. Documentation is the primary teaching tool.
Output: Updated README.md, command.md, agent.md, plus two new docs for structured and semantic components.
</objective>

<execution_context>
@/Users/glenninizan/.claude/get-shit-done/workflows/execute-plan.md
@/Users/glenninizan/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/24-parser-emitter-integration/24-01-SUMMARY.md
@.planning/phases/24-parser-emitter-integration/24-02-SUMMARY.md

Reference for documentation style:
@docs/README.md
@docs/command.md
@docs/conditionals.md (existing pattern for control flow docs)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update docs/README.md with v2.0 components</name>
  <files>docs/README.md</files>
  <action>
Update docs/README.md to add v2.0 components to the Quick Reference section.

**Add to User Guides table:**
| [Structured Components](./structured-components.md) | Table and List with array props |
| [Semantic Components](./semantic-components.md) | ExecutionContext, SuccessCriteria, OfferNext, XmlSection |

**Add to Component Overview section (new subsection after existing diagram):**

```markdown
### v2.0 Components

| Component | Purpose | Example |
|-----------|---------|---------|
| `<Table>` | Markdown tables from arrays | `<Table headers={["A"]} rows={[["1"]]} />` |
| `<List>` | Bullet/ordered lists from arrays | `<List items={["a", "b"]} ordered />` |
| `<ExecutionContext>` | @ file references section | `<ExecutionContext paths={["file.md"]} />` |
| `<SuccessCriteria>` | Checkbox success list | `<SuccessCriteria items={["Pass"]} />` |
| `<OfferNext>` | Navigation route list | `<OfferNext routes={[{name: "Go", path: "/x"}]} />` |
| `<XmlSection>` | Custom XML wrapper | `<XmlSection name="custom">...</XmlSection>` |
| `<Step>` | Numbered workflow step | `<Step name="Setup" number={1}>...</Step>` |
| `<Loop>` | Iteration over items | `<Loop items={arr} as="x">...</Loop>` |
```

Follow existing README style - be concise, link to detailed docs.
  </action>
  <verify>
Read updated docs/README.md and verify:
- New guides appear in User Guides table
- v2.0 components listed with brief examples
- Links to new docs are correct
  </verify>
  <done>docs/README.md updated with v2.0 component overview and links</done>
</task>

<task type="auto">
  <name>Task 2: Create docs/structured-components.md</name>
  <files>docs/structured-components.md</files>
  <action>
Create new doc for Table and List components.

Structure:
1. Overview - what structured components are (array props vs JSX children)
2. Table component
   - Props: headers, rows, align, emptyCell
   - Basic example
   - Alignment example
   - Edge cases: pipe escaping, newlines
3. List component
   - Props: items, ordered, start
   - Bullet list example
   - Ordered list example
   - Custom start number example

Pattern to follow:
```markdown
# Structured Components

Structured components accept array props instead of JSX children, making them easier to generate programmatically.

## Table

Create markdown tables from arrays.

### Props

| Prop | Type | Required | Description |
|------|------|----------|-------------|
| `headers` | `string[]` | No | Column headers |
| `rows` | `string[][]` | Yes | 2D array of cell values |
| `align` | `('left'\|'center'\|'right')[]` | No | Column alignment |
| `emptyCell` | `string` | No | Placeholder for null/undefined cells |

### Basic Usage

\`\`\`tsx
<Table
  headers={["Name", "Type", "Required"]}
  rows={[
    ["id", "string", "Yes"],
    ["name", "string", "Yes"],
    ["description", "string", "No"]
  ]}
/>
\`\`\`

Emits:
\`\`\`markdown
| Name | Type | Required |
| --- | --- | --- |
| id | string | Yes |
| name | string | Yes |
| description | string | No |
\`\`\`

### Column Alignment
...

## List

Create bullet or ordered lists from arrays.

### Props
...
```

Keep examples minimal but complete. Show TSX → markdown pairs.
  </action>
  <verify>
Read docs/structured-components.md and verify:
- Both Table and List fully documented
- Props tables complete
- TSX and markdown output examples paired
- Edge cases mentioned (escaping, alignment)
  </verify>
  <done>docs/structured-components.md created with complete Table and List documentation</done>
</task>

<task type="auto">
  <name>Task 3: Create docs/semantic-components.md and update command/agent docs</name>
  <files>docs/semantic-components.md, docs/command.md, docs/agent.md</files>
  <action>
**Part A: Create docs/semantic-components.md**

Document semantic components for Claude Code workflow patterns:

1. ExecutionContext - file path references with @ prefix
2. SuccessCriteria - checkbox success criteria list
3. OfferNext - route navigation options
4. XmlSection - custom named XML sections
5. Wrapper components brief mention (DeviationRules, CommitRules, WaveExecution, CheckpointHandling)
6. Step component - numbered workflow sections with variants

Structure similar to structured-components.md:
- Overview explaining semantic XML pattern
- Props table for each component
- TSX → markdown examples

**Part B: Update docs/command.md**

Add "Render Props Pattern" section showing:
```tsx
<Command name="example" description="test">
  {(ctx) => (
    <>
      <p>Command: {ctx.name}</p>
      <p>Output: {ctx.outputPath}</p>
    </>
  )}
</Command>
```

Document ctx properties: name, description, outputPath, sourcePath, skill (if applicable)

**Part C: Update docs/agent.md**

Add same "Render Props Pattern" section for Agent:
```tsx
<Agent name="worker" description="test">
  {(ctx) => (
    <>
      <p>Agent: {ctx.name}</p>
      <p>Tools: {ctx.tools?.join(', ')}</p>
    </>
  )}
</Agent>
```

Document ctx properties: name, description, tools, model (if applicable), plus inherited from command
  </action>
  <verify>
Read all three files and verify:
- docs/semantic-components.md has all 5+ semantic components documented
- docs/command.md has render props section with ctx properties
- docs/agent.md has render props section with ctx properties
  </verify>
  <done>Semantic components documented and render props pattern added to command/agent docs</done>
</task>

</tasks>

<verification>
All documentation files exist and are complete:
```bash
cat docs/README.md | grep -E "Table|List|ExecutionContext|structured-components"
head -50 docs/structured-components.md
head -50 docs/semantic-components.md
grep -A10 "Render Props" docs/command.md
grep -A10 "Render Props" docs/agent.md
```
</verification>

<success_criteria>
- [ ] docs/README.md lists all v2.0 components with links to detailed docs
- [ ] docs/structured-components.md documents Table and List with props and examples
- [ ] docs/semantic-components.md documents ExecutionContext, SuccessCriteria, OfferNext, XmlSection, Step
- [ ] docs/command.md includes render props pattern with ctx properties
- [ ] docs/agent.md includes render props pattern with ctx properties
- [ ] All examples show both TSX input and markdown output
- [ ] Documentation style consistent with existing docs
</success_criteria>

<output>
After completion, create `.planning/phases/24-parser-emitter-integration/24-03-SUMMARY.md`
</output>
