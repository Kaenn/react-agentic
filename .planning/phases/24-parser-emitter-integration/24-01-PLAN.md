---
phase: 24-parser-emitter-integration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/verification/test-table.tsx
  - src/app/verification/test-list.tsx
  - src/app/verification/test-semantic-components.tsx
autonomous: true

must_haves:
  truths:
    - "Table component emits valid markdown table with headers, rows, and alignment"
    - "List component emits bullet and ordered lists with custom start numbers"
    - "ExecutionContext emits XML section with @ prefixed paths"
    - "SuccessCriteria emits checkbox list with checked/unchecked states"
    - "OfferNext emits route bullet list with name, path, description"
    - "XmlSection and wrapper components emit named XML blocks"
  artifacts:
    - path: "src/app/verification/test-table.tsx"
      provides: "Table component test cases"
    - path: "src/app/verification/test-list.tsx"
      provides: "List component test cases"
    - path: "src/app/verification/test-semantic-components.tsx"
      provides: "Semantic component test cases"
    - path: ".claude/commands/test-table.md"
      provides: "Generated markdown for Table tests"
    - path: ".claude/commands/test-list.md"
      provides: "Generated markdown for List tests"
    - path: ".claude/commands/test-semantic-components.md"
      provides: "Generated markdown for semantic tests"
  key_links:
    - from: "test-*.tsx files"
      to: ".claude/commands/test-*.md"
      via: "build command"
      pattern: "node dist/cli/index.js build"
---

<objective>
Create permanent verification test files for Table, List, and semantic components (ExecutionContext, SuccessCriteria, OfferNext, XmlSection, wrapper components).

Purpose: Establish systematic test coverage for Phase 21-22 components that were implemented but not permanently tested.
Output: Three test command files in src/app/verification/ with corresponding markdown output in .claude/commands/
</objective>

<execution_context>
@/Users/glenninizan/.claude/get-shit-done/workflows/execute-plan.md
@/Users/glenninizan/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/24-parser-emitter-integration/24-RESEARCH.md

Key files:
- src/jsx.ts (component exports)
- src/parser/transformer.ts (transform methods at lines 1193, 1296+)
- src/emitter/emitter.ts (emit methods at lines 460, 937+)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create verification directory and Table test</name>
  <files>src/app/verification/test-table.tsx</files>
  <action>
Create src/app/verification/ directory if it doesn't exist.

Create test-table.tsx that tests:
1. Basic table with headers and rows
2. Table with column alignment (left, center, right)
3. Table with pipe characters in cells (escaping test)
4. Table with newlines in cells (should convert to spaces)
5. Table without headers (headerless table)
6. Table with emptyCell prop for null/undefined values

Pattern:
```tsx
import { Command, Table } from '../../jsx.js';

export default function TestTable() {
  return (
    <Command name="test-table" description="Verify Table component output">
      <h2>Test 1: Basic Table</h2>
      <Table headers={["Name", "Value"]} rows={[["foo", "1"], ["bar", "2"]]} />

      <h2>Test 2: Column Alignment</h2>
      <Table
        headers={["Left", "Center", "Right"]}
        rows={[["a", "b", "c"]]}
        align={["left", "center", "right"]}
      />

      {/* More test cases... */}
    </Command>
  );
}
```

Build the test file and verify output.
  </action>
  <verify>
```bash
npm run build
node dist/cli/index.js build src/app/verification/test-table.tsx
cat .claude/commands/test-table.md
```
Verify markdown contains proper table syntax with | separators and --- alignment rows.
  </verify>
  <done>test-table.tsx exists and builds successfully with correct markdown table output for all test cases</done>
</task>

<task type="auto">
  <name>Task 2: Create List component test</name>
  <files>src/app/verification/test-list.tsx</files>
  <action>
Create test-list.tsx that tests:
1. Basic bullet list (unordered)
2. Ordered list (numbered)
3. Ordered list with custom start number (e.g., start={5})
4. Empty list (should handle gracefully)
5. List with special characters in items

Pattern:
```tsx
import { Command, List } from '../../jsx.js';

export default function TestList() {
  return (
    <Command name="test-list" description="Verify List component output">
      <h2>Test 1: Bullet List</h2>
      <List items={["Item one", "Item two", "Item three"]} />

      <h2>Test 2: Ordered List</h2>
      <List items={["First", "Second", "Third"]} ordered />

      <h2>Test 3: Custom Start Number</h2>
      <List items={["Five", "Six", "Seven"]} ordered start={5} />

      {/* More test cases... */}
    </Command>
  );
}
```

Build and verify output.
  </action>
  <verify>
```bash
node dist/cli/index.js build src/app/verification/test-list.tsx
cat .claude/commands/test-list.md
```
Verify bullet lists use `- ` prefix, ordered lists use `1. 2. 3.` or custom start numbers.
  </verify>
  <done>test-list.tsx exists and builds with correct markdown list output for all variants</done>
</task>

<task type="auto">
  <name>Task 3: Create semantic components test</name>
  <files>src/app/verification/test-semantic-components.tsx</files>
  <action>
Create test-semantic-components.tsx that tests ALL semantic components from Phase 22:

1. ExecutionContext - paths array, prefix prop
2. SuccessCriteria - string shorthand and {text, checked} object form
3. OfferNext - routes with name, path, description
4. XmlSection - dynamic tag name with children
5. DeviationRules - wrapper component
6. CommitRules - wrapper component
7. WaveExecution - wrapper component
8. CheckpointHandling - wrapper component

Pattern:
```tsx
import {
  Command,
  ExecutionContext,
  SuccessCriteria,
  OfferNext,
  XmlSection,
  DeviationRules,
  CommitRules,
  WaveExecution,
  CheckpointHandling
} from '../../jsx.js';

export default function TestSemanticComponents() {
  return (
    <Command name="test-semantic-components" description="Verify semantic components">
      <h2>ExecutionContext</h2>
      <ExecutionContext paths={["workflow.md", "config.json"]} />

      <h2>ExecutionContext with Custom Prefix</h2>
      <ExecutionContext paths={["file.md"]} prefix="#" />

      <h2>SuccessCriteria - String Items</h2>
      <SuccessCriteria items={["Build passes", "Tests pass"]} />

      <h2>SuccessCriteria - Object Items</h2>
      <SuccessCriteria items={[
        { text: "Completed item", checked: true },
        { text: "Pending item", checked: false }
      ]} />

      <h2>OfferNext</h2>
      <OfferNext routes={[
        { name: "Continue", path: "/next", description: "Proceed to next step" },
        { name: "Back", path: "/previous" }
      ]} />

      <h2>XmlSection Dynamic</h2>
      <XmlSection name="custom_section">
        <p>Content inside custom XML section</p>
      </XmlSection>

      <h2>Wrapper Components</h2>
      <DeviationRules>
        <p>Rules for deviation handling</p>
      </DeviationRules>

      <CommitRules>
        <p>Rules for commits</p>
      </CommitRules>

      <WaveExecution>
        <p>Wave execution instructions</p>
      </WaveExecution>

      <CheckpointHandling>
        <p>Checkpoint handling rules</p>
      </CheckpointHandling>
    </Command>
  );
}
```

Build and verify all XML sections emit correctly.
  </action>
  <verify>
```bash
node dist/cli/index.js build src/app/verification/test-semantic-components.tsx
cat .claude/commands/test-semantic-components.md
```
Verify:
- ExecutionContext outputs `<execution_context>` with @-prefixed paths
- SuccessCriteria outputs `<success_criteria>` with checkbox items
- OfferNext outputs bullet list with routes
- XmlSection outputs `<custom_section>` tags
- Wrapper components output their named tags (deviation_rules, commit_rules, etc.)
  </verify>
  <done>test-semantic-components.tsx builds with all semantic components emitting correct XML-wrapped markdown</done>
</task>

</tasks>

<verification>
All three test files exist in src/app/verification/ and build successfully:
```bash
ls src/app/verification/test-*.tsx
node dist/cli/index.js build "src/app/verification/*.tsx"
ls .claude/commands/test-*.md
```

Each generated markdown file contains expected output matching component specifications.
</verification>

<success_criteria>
- [ ] src/app/verification/ directory exists with 3 test files
- [ ] test-table.tsx covers: basic, alignment, escaping, headerless, emptyCell
- [ ] test-list.tsx covers: bullet, ordered, custom start
- [ ] test-semantic-components.tsx covers all 8 semantic components
- [ ] All 3 files build without errors
- [ ] Generated markdown matches expected patterns
</success_criteria>

<output>
After completion, create `.planning/phases/24-parser-emitter-integration/24-01-SUMMARY.md`
</output>
